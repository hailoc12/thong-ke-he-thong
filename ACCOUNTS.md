# TÃ i khoáº£n Há»‡ thá»‘ng

**Production URL:** https://thongkehethong.mindmaid.ai

---

## 1. TÃ i khoáº£n Admin

**Quáº£n trá»‹ viÃªn há»‡ thá»‘ng**

- **Username:** admin
- **Email:** admin@mindmaid.ai
- **Password:** [Xem ADMIN_CREDENTIALS.md]
- **Role:** admin (Quáº£n trá»‹ viÃªn)

**Quyá»n háº¡n:**
- âœ… ToÃ n quyá»n truy cáº­p há»‡ thá»‘ng
- âœ… Quáº£n lÃ½ ngÆ°á»i dÃ¹ng (táº¡o, sá»­a, xÃ³a, kÃ­ch hoáº¡t/vÃ´ hiá»‡u hÃ³a)
- âœ… Quáº£n lÃ½ Ä‘Æ¡n vá»‹ (táº¡o, sá»­a, xÃ³a)
- âœ… Xem táº¥t cáº£ há»‡ thá»‘ng cá»§a má»i Ä‘Æ¡n vá»‹
- âœ… Táº¡o/sá»­a/xÃ³a há»‡ thá»‘ng cho báº¥t ká»³ Ä‘Æ¡n vá»‹ nÃ o

**Menu hiá»ƒn thá»‹:**
- ğŸ“Š Dashboard
- ğŸ’» Há»‡ thá»‘ng
- ğŸ¢ ÄÆ¡n vá»‹
- ğŸ‘¥ NgÆ°á»i dÃ¹ng

---

## 2. TÃ i khoáº£n Organization Users

**NgÆ°á»i dÃ¹ng Ä‘Æ¡n vá»‹ (Sample Accounts)**

### 2.1 Sá»Ÿ Khoa há»c vÃ  CÃ´ng nghá»‡ HÃ  Ná»™i (SKHCN-HN)

- **Username:** org1
- **Email:** org1@example.com
- **Password:** Test1234!
- **Role:** org_user (NgÆ°á»i dÃ¹ng Ä‘Æ¡n vá»‹)
- **Organization:** Sá»Ÿ Khoa há»c vÃ  CÃ´ng nghá»‡ HÃ  Ná»™i
- **Organization Code:** SKHCN-HN

**Quyá»n háº¡n:**
- âœ… Xem Dashboard (chá»‰ dá»¯ liá»‡u Ä‘Æ¡n vá»‹ mÃ¬nh)
- âœ… Quáº£n lÃ½ há»‡ thá»‘ng CNTT cá»§a Ä‘Æ¡n vá»‹ SKHCN-HN
- âœ… Táº¡o/sá»­a/xÃ³a há»‡ thá»‘ng cho Ä‘Æ¡n vá»‹ mÃ¬nh
- âŒ KHÃ”NG thá»ƒ xem há»‡ thá»‘ng cá»§a Ä‘Æ¡n vá»‹ khÃ¡c
- âŒ KHÃ”NG thá»ƒ truy cáº­p NgÆ°á»i dÃ¹ng
- âŒ KHÃ”NG thá»ƒ truy cáº­p ÄÆ¡n vá»‹

**Menu hiá»ƒn thá»‹:**
- ğŸ“Š Dashboard
- ğŸ’» Há»‡ thá»‘ng

---

### 2.2 Viá»‡n Khoa há»c CÃ´ng nghá»‡ Viá»‡t Nam (VAST-TEST)

- **Username:** org2
- **Email:** org2@example.com
- **Password:** Test1234!
- **Role:** org_user (NgÆ°á»i dÃ¹ng Ä‘Æ¡n vá»‹)
- **Organization:** Viá»‡n Khoa há»c CÃ´ng nghá»‡ Viá»‡t Nam
- **Organization Code:** VAST-TEST

**Quyá»n háº¡n:**
- âœ… Xem Dashboard (chá»‰ dá»¯ liá»‡u Ä‘Æ¡n vá»‹ mÃ¬nh)
- âœ… Quáº£n lÃ½ há»‡ thá»‘ng CNTT cá»§a Ä‘Æ¡n vá»‹ VAST-TEST
- âœ… Táº¡o/sá»­a/xÃ³a há»‡ thá»‘ng cho Ä‘Æ¡n vá»‹ mÃ¬nh
- âŒ KHÃ”NG thá»ƒ xem há»‡ thá»‘ng cá»§a Ä‘Æ¡n vá»‹ khÃ¡c
- âŒ KHÃ”NG thá»ƒ truy cáº­p NgÆ°á»i dÃ¹ng
- âŒ KHÃ”NG thá»ƒ truy cáº­p ÄÆ¡n vá»‹

**Menu hiá»ƒn thá»‹:**
- ğŸ“Š Dashboard
- ğŸ’» Há»‡ thá»‘ng

---

## 3. So sÃ¡nh quyá»n háº¡n

| TÃ­nh nÄƒng | Admin | Org User |
|-----------|-------|----------|
| ÄÄƒng nháº­p há»‡ thá»‘ng | âœ… | âœ… |
| Xem Dashboard | âœ… Táº¥t cáº£ | âœ… Chá»‰ Ä‘Æ¡n vá»‹ mÃ¬nh |
| Xem danh sÃ¡ch Há»‡ thá»‘ng | âœ… Táº¥t cáº£ | âœ… Chá»‰ Ä‘Æ¡n vá»‹ mÃ¬nh |
| Táº¡o Há»‡ thá»‘ng | âœ… Cho má»i Ä‘Æ¡n vá»‹ | âœ… Chá»‰ cho Ä‘Æ¡n vá»‹ mÃ¬nh |
| Sá»­a Há»‡ thá»‘ng | âœ… Táº¥t cáº£ | âœ… Chá»‰ cá»§a Ä‘Æ¡n vá»‹ mÃ¬nh |
| XÃ³a Há»‡ thá»‘ng | âœ… Táº¥t cáº£ | âœ… Chá»‰ cá»§a Ä‘Æ¡n vá»‹ mÃ¬nh |
| Xem ÄÆ¡n vá»‹ | âœ… | âŒ |
| Táº¡o/Sá»­a/XÃ³a ÄÆ¡n vá»‹ | âœ… | âŒ |
| Xem NgÆ°á»i dÃ¹ng | âœ… | âŒ |
| Táº¡o/Sá»­a/XÃ³a NgÆ°á»i dÃ¹ng | âœ… | âŒ |
| KÃ­ch hoáº¡t/VÃ´ hiá»‡u hÃ³a User | âœ… | âŒ |

---

## 4. CÃ¡ch táº¡o tÃ i khoáº£n má»›i

### 4.1 Qua Web Interface (Admin only)

1. ÄÄƒng nháº­p vá»›i tÃ i khoáº£n admin
2. VÃ o menu "NgÆ°á»i dÃ¹ng"
3. Click "Táº¡o ngÆ°á»i dÃ¹ng"
4. Äiá»n form:
   - TÃªn Ä‘Äƒng nháº­p: (VD: org3)
   - Email: (VD: org3@example.com)
   - Máº­t kháº©u: (VD: Test1234!)
   - Há»: (VD: User)
   - TÃªn: (VD: TÃªn Ä‘Æ¡n vá»‹)
   - Vai trÃ²: NgÆ°á»i dÃ¹ng Ä‘Æ¡n vá»‹
   - ÄÆ¡n vá»‹: Chá»n Ä‘Æ¡n vá»‹
5. Click "Táº¡o ngÆ°á»i dÃ¹ng"

### 4.2 Qua Django Shell (SSH to server)

```bash
# SSH vÃ o server
ssh admin_@34.142.152.104

# VÃ o shell
docker compose exec backend python manage.py shell

# Táº¡o user
from apps.accounts.models import User
from apps.organizations.models import Organization

# Láº¥y organization
org = Organization.objects.get(code="ORG_CODE")

# Táº¡o user
user = User.objects.create_user(
    username="orgX",
    email="orgX@example.com",
    password="Test1234!",
    role='org_user',
    organization=org,
    first_name="User",
    last_name=org.code,
    is_active=True
)

print(f"Created: {user.username} for {org.name}")
exit()
```

### 4.3 Qua Script (Bulk creation)

Sá»­ dá»¥ng script `create_sample_users.py` (xem P0.5_DEPLOYMENT_GUIDE.md Step 9)

---

## 5. Quáº£n lÃ½ tÃ i khoáº£n

### 5.1 KÃ­ch hoáº¡t/VÃ´ hiá»‡u hÃ³a user

**Admin only:**
1. VÃ o "NgÆ°á»i dÃ¹ng"
2. TÃ¬m user cáº§n xá»­ lÃ½
3. Click "KÃ­ch hoáº¡t" hoáº·c "VÃ´ hiá»‡u hÃ³a"

**Tráº¡ng thÃ¡i:**
- ğŸŸ¢ **Hoáº¡t Ä‘á»™ng** (is_active=True): User cÃ³ thá»ƒ Ä‘Äƒng nháº­p
- ğŸ”´ **VÃ´ hiá»‡u hÃ³a** (is_active=False): User KHÃ”NG thá»ƒ Ä‘Äƒng nháº­p

### 5.2 Reset máº­t kháº©u

**Hiá»‡n táº¡i cáº§n lÃ m qua Django shell:**

```bash
docker compose exec backend python manage.py shell

from apps.accounts.models import User
user = User.objects.get(username="USERNAME")
user.set_password("NEW_PASSWORD")
user.save()
print(f"Password updated for {user.username}")
exit()
```

**LÆ°u Ã½:** TÃ­nh nÄƒng Ä‘á»•i máº­t kháº©u qua web sáº½ cÃ³ trong P1.

### 5.3 XÃ³a user (KhÃ´ng khuyáº¿n nghá»‹)

NÃªn **vÃ´ hiá»‡u hÃ³a** thay vÃ¬ xÃ³a Ä‘á»ƒ giá»¯ láº¡i dá»¯ liá»‡u lá»‹ch sá»­.

Náº¿u thá»±c sá»± cáº§n xÃ³a:
```bash
docker compose exec backend python manage.py shell

from apps.accounts.models import User
user = User.objects.get(username="USERNAME")
user.delete()
exit()
```

---

## 6. Báº£o máº­t

### 6.1 YÃªu cáº§u máº­t kháº©u

Máº­t kháº©u pháº£i:
- Ãt nháº¥t 8 kÃ½ tá»±
- Chá»©a chá»¯ hoa, chá»¯ thÆ°á»ng, sá»‘
- CÃ³ thá»ƒ chá»©a kÃ½ tá»± Ä‘áº·c biá»‡t

VÃ­ dá»¥ máº­t kháº©u há»£p lá»‡:
- `Test1234!`
- `Bkhcn@2026`
- `SecurePass123`

### 6.2 LÆ°u Ã½ báº£o máº­t

- âš ï¸ Äá»•i máº­t kháº©u máº«u (`Test1234!`) ngay sau khi nháº­n tÃ i khoáº£n
- âš ï¸ KhÃ´ng chia sáº» máº­t kháº©u qua email/chat
- âš ï¸ Sá»­ dá»¥ng máº­t kháº©u máº¡nh, khÃ¡c nhau cho tá»«ng tÃ i khoáº£n
- âš ï¸ ÄÄƒng xuáº¥t sau khi sá»­ dá»¥ng xong

### 6.3 Session vÃ  token

- Access token cÃ³ thá»i háº¡n (thiáº¿t láº­p trong backend settings)
- Sau khi háº¿t háº¡n, user cáº§n Ä‘Äƒng nháº­p láº¡i
- Session Ä‘Æ°á»£c lÆ°u trong localStorage cá»§a browser

---

## 7. Troubleshooting

### User khÃ´ng Ä‘Äƒng nháº­p Ä‘Æ°á»£c

**Kiá»ƒm tra:**
1. Username/Password cÃ³ Ä‘Ãºng khÃ´ng?
2. User cÃ³ bá»‹ vÃ´ hiá»‡u hÃ³a khÃ´ng? (is_active=False)
3. Organization cá»§a user cÃ³ tá»“n táº¡i khÃ´ng?
4. Backend cÃ³ lá»—i khÃ´ng? (check logs)

**Verify qua shell:**
```bash
docker compose exec backend python manage.py shell

from apps.accounts.models import User
user = User.objects.get(username="USERNAME")
print(f"Active: {user.is_active}")
print(f"Role: {user.role}")
print(f"Organization: {user.organization}")
exit()
```

### User tháº¥y menu khÃ´ng Ä‘Ãºng

**Expected behavior:**
- Admin: tháº¥y Dashboard, Há»‡ thá»‘ng, ÄÆ¡n vá»‹, NgÆ°á»i dÃ¹ng
- Org User: chá»‰ tháº¥y Dashboard, Há»‡ thá»‘ng

**Náº¿u sai:**
1. Kiá»ƒm tra role cá»§a user:
```bash
docker compose exec backend python manage.py shell
from apps.accounts.models import User
user = User.objects.get(username="USERNAME")
print(user.role)  # Should be 'admin' or 'org_user'
exit()
```

2. XÃ³a cache browser vÃ  Ä‘Äƒng nháº­p láº¡i

### Org user tháº¥y há»‡ thá»‘ng cá»§a Ä‘Æ¡n vá»‹ khÃ¡c

**This should NOT happen!** ÄÃ¢y lÃ  bug nghiÃªm trá»ng vá» data isolation.

**Debug:**
1. Check backend logs:
```bash
docker compose logs backend --tail=100 | grep -i error
```

2. Verify API filtering:
```bash
# Test vá»›i token cá»§a org user
curl -H "Authorization: Bearer TOKEN" https://thongkehethong.mindmaid.ai/api/systems/
```

3. Contact development team immediately!

---

## 8. Next Steps

### Sau khi deploy P0.5

1. **Táº¡o real organization users:**
   - Láº¥y danh sÃ¡ch Ä‘Æ¡n vá»‹ vÃ  ngÆ°á»i phá»¥ trÃ¡ch
   - Táº¡o tÃ i khoáº£n cho tá»«ng Ä‘Æ¡n vá»‹
   - Gá»­i thÃ´ng tin Ä‘Äƒng nháº­p cho ngÆ°á»i phá»¥ trÃ¡ch

2. **HÆ°á»›ng dáº«n end-users:**
   - Gá»­i USER_GUIDE.md
   - Tá»• chá»©c training session náº¿u cáº§n
   - Há»— trá»£ onboarding

3. **Monitoring:**
   - Theo dÃµi logs Ä‘á»ƒ phÃ¡t hiá»‡n lá»—i sá»›m
   - Thu tháº­p feedback tá»« users
   - Fix bugs náº¿u phÃ¡t hiá»‡n

4. **Planning P1:**
   - Mobile-responsive design
   - Change password feature
   - Export reports (Excel/PDF)
   - Remember Me login

---

**Cáº­p nháº­t láº§n cuá»‘i:** 2026-01-17
**PhiÃªn báº£n:** P0.5 Multi-Tenancy
**Status:** âœ… Production Ready
